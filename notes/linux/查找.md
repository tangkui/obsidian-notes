
``` bash
find . -type f -name '*.sql' | xargs grep -i 'PB0000020210118009'
``` 

| 阶段     | 命令段                    | 作用                                         | 关键选项 / 示例                                                                         | 备注 / 易错点            |     |
| ------ | ---------------------- | ------------------------------------------ | --------------------------------------------------------------------------------- | ------------------- | --- |
| ① 查找   | `find .`               | 从当前目录递归查找文件/目录                             | `.`：当前目录；可换成 `/data/sql` 等绝对路径                                                    | 路径含空格时需用引号          |     |
|        | `-type f`              | 仅匹配“普通文件”                                  | 其他：`-type d`（目录）、`-type l`（符号链接）                                                  | 与 `-type f` 互斥      |     |
|        | `-name '*.sql'`        | 文件名后缀为 `.sql`（大小写敏感）                       | 不区分大小写：`-iname '*.sql'`                                                           | 通配符必须用引号防止 shell 展开 |     |
|        | `-print0`              | 以 NUL 字符 `\0` 结尾输出记录                       | 与 xargs 的 `-0` 成对使用                                                               | 解决文件名含空格、特殊字符问题     |     |
| ② 管道   | \|                     | \`                                         | 把 find 的标准输出转到下一个命令的标准输入                                                          |                     |     |
| ③ 参数重组 | `xargs`                | 将 stdin 转成命令行参数，避免“Argument list too long” | 无选项：一次性追加全部文件                                                                     | 默认以空格/换行分隔          |     |
|        | `-0`                   | 以 NUL 作为分隔符                                | 与 `-print0` 对应：`xargs -0`                                                         | 防止空格/引号/反斜杠被误拆      |     |
|        | `-I {}`                | 指定占位符                                      | `xargs -I {} cp {} /backup/`                                                      | 每条命令只处理一个文件         |     |
|        | `-P N`                 | 并发 N 个进程                                   | `xargs -P 4`                                                                      | 提升在多核/SSD 场景下的速度    |     |
| ④ 搜索   | `grep`                 | 在文件内容中查找字符串                                | 无选项：区分大小写，显示匹配行                                                                   |                     |     |
|        | `-i`                   | 忽略大小写                                      | `grep -i 'pb000…'`                                                                |                     |     |
|        | `-n`                   | 输出行号                                       | `grep -n '…'`                                                                     | 方便定位                |     |
|        | `-H`                   | 始终显示文件名（默认已有）                              |                                                                                   |                     |     |
|        | `-l`                   | 仅列出“包含匹配”的文件名                              | `grep -l '…'`                                                                     | 不显示具体行              |     |
|        | `-L`                   | 仅列出“不包含匹配”的文件名                             | `grep -L '…'`                                                                     | 反向过滤                |     |
|        | `-R --include='*.sql'` | 直接递归 + 过滤后缀                                | `grep -R --include='*.sql' -i '…' .`                                              | 可取代 find+xargs      |     |
| ⑤ 完整示例 |                        |                                            | `find . -type f -name '*.sql' -print0 \| xargs -0 grep -inH 'PB0000020210118009'` | 兼容空格、并行安全、带行号       |     |
