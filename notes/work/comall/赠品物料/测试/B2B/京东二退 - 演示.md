# äº¬ä¸œäºŒé€€ - æ¼”ç¤ºï¼ˆUATï¼‰

---

## ä¸€ã€ç¯å¢ƒä¿¡æ¯

- **ç¯å¢ƒ**ï¼šUAT

---

## äºŒã€äºŒé€€ä¸šåŠ¡åœºæ™¯

### äºŒé€€è¯´æ˜

è´§å“å·²å®Œæˆå…¥åº“ï¼Œåç»­å‘ç”Ÿé€€è´§ï¼Œè§¦å‘ **äºŒé€€å•æ®**ã€‚

### åœºæ™¯åˆ—è¡¨

1. å•†å“ + æ ‡é…ç‰©æ–™  
   - å…¥åº“ 2 ä»¶  
   - é€€å› 1 ä»¶  

2. å•ç‹¬ç‰©æ–™  
   - å…¥åº“ 2 ä»¶  
   - é€€å› 1 ä»¶  

3. å•ç‹¬èµ å“  
   - å…¥åº“ 2 ä»¶  
   - é€€å› 1 ä»¶  

---

## ä¸‰ã€äºŒé€€å‰ç½®æ•°æ®å‡†å¤‡ï¼ˆMock JD-EDIï¼‰

åœ¨åˆ›å»º **äº¬ä¸œè‡ªè¥äºŒé€€å•æ®** å‰ï¼Œéœ€è¦å…ˆåœ¨ä»¥ä¸‹è¡¨ä¸­å†™å…¥ Mock æ•°æ®ï¼š

### 3.1 Mock è¡¨è¯´æ˜

- **è¡¨å**ï¼š

```

ctf_jd_transfer_order.dc_mock_jdedi

````

---

### 3.2 æŸ¥è¯¢å‚è€ƒæ•°æ®

```sql
select * 
from ctf_jd_transfer_order.dc_mock_jdedi 
where order_code = '222222';
````

- è¯¥è®°å½• **ä¸è¦ä¿®æ”¹**
    
- ä»¥ `order_code = 222222` çš„è®°å½•ä¸ºæ¨¡æ¿
    
- å¤åˆ¶å…¶ `response_json` å†…å®¹ä½œä¸ºæ–°æ•°æ®åŸºç¡€
    

---

### 3.3 Mock JSON ç¤ºä¾‹ï¼ˆéœ€ä¿®æ”¹å­—æ®µï¼‰

> ä»¥ä¸‹ JSON ä¸­ï¼Œæ ‡æ³¨ **ã€å¾…ä¿®æ”¹ã€‘** çš„å­—æ®µå¿…é¡»è°ƒæ•´

âš ï¸ æ³¨æ„äº‹é¡¹ï¼š

- `roId` å–å€¼èŒƒå›´ï¼š`-2147483648 ~ 2147483647`
    
- `roId` **å¿…é¡»å…¨è¡¨å”¯ä¸€**ï¼Œå¦åˆ™æ— æ³•åˆ›å•
    
- `barCodeï¼ˆç‰Œä»”ï¼‰` å¿…é¡»ä¸º **ç§»åº“æ­£å‘å•å¯¹åº”å‡ºåº“å•æ‹£è´§çš„ç‰Œä»”**
    
- å¦åˆ™ä¼šå¯¼è‡´ï¼š
    
    - å…¥åº“å•å¼‚å¸¸
        
    - QC ç¯èŠ‚æ— æ³•é€šè¿‡
        

---

#### å®Œæ•´ JSON ç¤ºä¾‹

```json
{
  "code": "200",
  "data": [
    {
      "backTime": "2025-12-21 22:04:56",
      "barCode": "ç‰Œä»”-å¾…ä¿®æ”¹",
      "boxId": "6242625121800001818",
      "createTime": "2025-12-21 22:04:57",
      "fullTime": "2025-12-18 18:34:12",
      "id": 215974986,
      "num": "æ•°é‡-å¾…ä¿®æ”¹",
      "roId": "æ¸ é“é€€å•ID-å¾…ä¿®æ”¹",
      "skuId": "æ¸ é“SKUID-å¾…ä¿®æ”¹",
      "skuName": "å‘¨å¤§ç¦Giftingç¤¼ç›’&çº¸è¢‹ èµ å“ çº¸è¢‹ 1000008346",
      "updateTime": "2025-12-21 22:04:57",
      "yn": 0
    }
  ],
  "success": true
}
```

---

### 3.4 å†™å…¥ Mock æ•°æ®

å°†ä¿®æ”¹åçš„ `json` ä¸ `roId` å¡«å…¥ä»¥ä¸‹ SQL å¹¶æ‰§è¡Œï¼š

```sql
INSERT INTO ctf_jd_transfer_order.dc_mock_jdedi
(response_json, path, order_code)
VALUES
('å¡«å…¥json', '/services/ro/boxInfo', 'å¡«å…¥roId');
```

---

## å››ã€åˆ›å»ºäºŒé€€å•æ®ï¼ˆMock æ¥å£ï¼‰

### 4.1 Swagger åœ°å€

```
https://fs-uat.chowtaifook.sz/admin_api/dc-b2b-order/swagger-ui.html
```

---

### 4.2 æ¥å£è¯´æ˜

- **æ¥å£åç§°**ï¼šB2Bé€€è´§å• - è¿ç»´
    
- **Controller**ï¼šOps Return Order Controller
    
- **æ¥å£è·¯å¾„**ï¼š
    

```
POST /ops/return_orders/mock/receive_return_order_detail
```

- **ç”¨é€”**ï¼šMock ç”Ÿæˆ B2B ç§»åº“äºŒé€€å•æ®
    

---

### 4.3 è¯·æ±‚å‚æ•°ç¤ºä¾‹

```json
{
  "channel_code": 1001,
  "channel_warehouse_code": "2426",
  "channel_warehouse_name": "åŒ—äº¬å¸‚å¤§å…´åŒºé»„æ‘é•‡é­æ°¸è·¯70å·äº¬å¨è‚¡ä»½åŒ—400ç±³äº¬ä¸œåŒ—äº¬äºšä¸€å›­åŒº",
  "purchase_order_code": "20251223000008",
  "refund_type": "GOODS_GET_BACK",
  "return_create_time": "2025-12-15 17:19:27",
  "return_order_code": "149064961",
  "return_order_goods_detail_list": [
    {
      "actual_quantity": 1,
      "apply_quantity": 1,
      "channel_sku_code": "10001012171538",
      "return_price": 0
    }
  ],
  "shop_code": 60623,
  "shop_name": "å‘¨å¤§ç¦äº¬ä¸œè‡ªè¥åº—",
  "type": "UN_SALE",
  "vendor_id": "zdf"
}
```

---

### 4.4 å¯ä¿®æ”¹å­—æ®µè¯´æ˜

|å­—æ®µå|è¯´æ˜|
|---|---|
|`return_order_code`|æ¸ é“é€€å•å·ï¼Œå¿…é¡»ä¸ Mock æŠ¥æ–‡ä¸­çš„ `roId` ä¸€è‡´|
|`purchase_order_code`|é‡‡è´­å•å·|
|`channel_sku_code`|æ¸ é“ SKUID|
|`actual_quantity`|å®é™…é€€è´§æ•°é‡|
|`apply_quantity`|ç”³è¯·é€€è´§æ•°é‡|

---

## äº”ã€Mock è´§è´¦è½¬ç§»ï¼ˆJD-EDIï¼‰

> ç”¨äºæ¨¡æ‹Ÿæ¥æ”¶ JD-EDI é‡‡è´­å•æ”¶è´§ç»“æœåçš„è´§è´¦è½¬ç§»åŠ¨ä½œ

---

### 5.1 Swagger åœ°å€

```
https://fs-uat.chowtaifook.sz/admin_api/dc-jd-transfer-order/swagger-ui.html#/
```

---

### 5.2 æ¥å£è¯´æ˜

- **æ¥å£åç§°**ï¼šç¡®è®¤æ”¶è´§å• - OPS
    
- **Controller**ï¼šOps Edi Order Controller
    
- **æ¥å£è·¯å¾„**ï¼š
    

```
POST /ops/b2b/orders/push/b2b/stock/transfer
```

- **ç”¨é€”**ï¼šMock æ¨é€ç§»åº“å•è´§è´¦è½¬ç§»æ¶ˆæ¯
    

---

### 5.3 è¯·æ±‚å‚æ•°ç¤ºä¾‹

```json
{
  "out_order_id": "æ­£å‘å•-é‡‡è´­å•å·",
  "receipt_skns": [
    {
      "channel_sku": "æ¸ é“skuid",
      "outer_order_id": "æ­£å‘å•-é‡‡è´­å•å·",
      "receipt_time": "2025-12-24 06:04:57",
      "skn_code": "ç‰Œä»”",
      "vendor_id": "zdf"
    },
    {
      "channel_sku": "æ¸ é“skuid",
      "outer_order_id": "æ­£å‘å•-é‡‡è´­å•å·",
      "receipt_time": "2025-12-24 06:04:57",
      "skn_code": "ç‰Œä»”",
      "vendor_id": "zdf"
    }
  ]
}
```

---

## å…­ã€å…³é”®æ³¨æ„äº‹é¡¹

- `roId` å¿…é¡»å…¨è¡¨å”¯ä¸€
    
- äºŒé€€ç‰Œä»”å¿…é¡»æ¥è‡ª **ç§»åº“æ­£å‘å•å‡ºåº“æ‹£è´§**
    
- äºŒé€€æµç¨‹ä¾èµ– Mock JD-EDI æ•°æ®å®Œæ•´æ€§
    
- è‹¥ QC ä¸é€šè¿‡ï¼Œä¼˜å…ˆæ ¸æŸ¥ï¼š
    
    - ç‰Œä»”
        
    - æ•°é‡
        
    - æ­£å‘å•å…³è”å…³ç³»
        

---

```

å¦‚æœä½ éœ€è¦ï¼Œæˆ‘å¯ä»¥ç»§ç»­å¸®ä½ æ•´ç†ï¼š  
- ğŸ“˜ **äº¬ä¸œä¸€é€€ / äºŒé€€ / ä¸‰é€€ å…¨æµç¨‹å¯¹ç…§æ–‡æ¡£**  
- ğŸ§­ **æ­£å‘ç§»åº“ â†’ å…¥åº“ â†’ ä¸€é€€ / äºŒé€€ / ä¸‰é€€ æ—¶åºå›¾**  
- ğŸ§ª **äºŒé€€å¤±è´¥å¸¸è§é—®é¢˜æ’æŸ¥æ¸…å•**

ç›´æ¥å‘Šè¯‰æˆ‘è¦å“ªä¸€ä¸ªå³å¯ã€‚
```