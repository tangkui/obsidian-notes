# 京东一退 - 演示（UAT）

---

## 一、环境信息

- **环境**：UAT

---

## 二、一退业务场景

### 一退说明

补货 3 件，京东自营实际仅入库 2 件，剩余 1 件退回，触发 **一退单据**。

### 场景列表

1. 商品 + 标配物料  
   - 补货 3 件  
   - 实际入库 2 件  
   - 退回 1 件  

2. 单独物料  
   - 补货 3 件  
   - 实际入库 2 件  
   - 退回 1 件  

3. 单独赠品  
   - 补货 3 件  
   - 实际入库 2 件  
   - 退回 1 件  

---

## 三、创单 Mock 信息

### 3.1 Mock 地址

```

[https://fs-uat.chowtaifook.sz/admin_api/dc-jd-transfer-order/swagger-ui.html](https://fs-uat.chowtaifook.sz/admin_api/dc-jd-transfer-order/swagger-ui.html)

```

---

### 3.2 Mock 接口说明

- **接口名称**：接收 JD-EDI 推送收货确认单（Mock）
- **接口用途**：确认收货单（OPS）
- **Controller**：Ops Edi Order Controller
- **接口路径**：

```

POST /ops/b2b/orders/shipment/confirmation

```

---

## 四、关键参数说明（需修改）

| 参数项 | 说明 |
|-----|-----|
| 移库正向单号 | 示例：`YKD2512193400` |
| 移库正向单的 X 码 | 示例：`X001EOF005277` |
| 指定拒收 X 码件数 | 示例：`1` |

---

## 五、一退单据生成逻辑

- **一退单据创建方式**：  
  根据 **移库正向单** 的订单信息自动生成一退单据

- **触发条件**：  
  - 实际收货数量 < 补货数量
  - 存在明确的拒收数量

---

## 六、说明

- 一退单与移库正向单 **强关联**
- 一退数量以 **JD 回传的拒收数量** 为准
- 同一移库正向单可触发一笔一退单据

---  
